# Начало работы
## Установить dev зависимости командой:
```bash
make install_dev
```

## Скопировать и настроить конфиг
```bash
cp config.py.example config.py
```

## Собрать docker образ вебсервера
Этот шаг можно пропустить если планируется запускать вебсервер локально, но тогда стоит закоментировать серкции web и nginx в docker-compose
```bash
make docker_build
```

## Запустить docker-compose который поднимет дополнительные сервисы (базы данных, брокеры, кеш)
```bash
make docker_up
```

## Вместе с запущенными докер сервисами можно выполнять тесты
ToDo: Добавить поддержку запуска тестов с помощью `testcontainers`

```bash
make test
```

# Разработка модуля
Модули добавляются в `src.modules.{module_name}`. Примеры модулей можно посмотреть в `src.modules.async_api_module` и  `src.modules.sync_api_module`.


API эндпоинты добавленные в модуль после необходимо подключить в `src.modules.core.entrypoints.wsgi.wsgi.py` для синхронного API или в `src.modules.core.entrypoints.asgi.asgi.py` для асинхронного API.
В зависимости от выбранного стиля разработки, асинхронного или синхронного, потребуется запуск нужного веб сервера, по-умолчанию `make run_web` запускает асинхронный веб сервер

Модели модуля нужно зарегистрировать в `src.lib.models_scanner`


От в зависимости от выбора типа API стоит подправить `docker/web/Dockerfile` для запуска нужного сервера
